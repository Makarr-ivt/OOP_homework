# аларм!
**Примите во внимание написанное перед тем, как взаимодействовать с этим репозиторием!!**

Программа доделана и сдана! Но надо бы ещё инструкцию по установке и запуску написать... Просто скачать недостаточно, надо ещё создать виртуальное окружение для питона, загрузить в него необходимые библиотеки, плюс настроить сборку самого проекта на плюсах... Я делал в **VSCode**, мне для этого понадобилось настроить `.build/tasks.json`, но по-хорошему нужно сделать универсальную инструкцию сборки, скорее всего через **cmake** (других способов я сейчас не вижу).
Потом, у меня в `constants.hpp` прописан абсолютный путь к скрипту на питоне и `data.json`. Значит, на другом компьютере это не запустится! Тоже надо исправлять.
Ещё есть бэклог:
- Продумать передачу данных получше. Мне не нравится, как данные читаются из json в питонячий скрипт, наверняка можно организовать удобнее.
- Переделать отображение информации о ветре. Сейчас это только несимпатичное 2д поле, из каждой измеренной точки выходит вектор с полученным направлением и нормированной длинной -- скоростью ветра. Это не информативно, не даёт информацию о ветре в любой точке, и при взаимодействии мышью с этими векторами никакой полезной информации не выводится. Но как сделать лучше? Кроме розы ветров, которая соберёт данные по всему королевству, я ничего не придумал пока что.

К тому же, генерация погоды у меня реализована максимально просто. Показатели разных станций не зависят друг от друга, ветер не зависит от температуры и давления... Поэтому если развивать идею векторного поля, то получится абсолютный хаос и неразбериха, мне так кажется. Надо бы (надо ли?) подумать и довести до ума.

- Доделать тестирование. Не знаю, надо оно мне или нет... Но папка `unit_tests` содержит только скудные ассёрты из первых двух лаб, которые имеют мало смысла и даже не покрывают все варианты для классов Флюгера и Метеостанции.


Как-то так обстоят дела с этой работой! Возьмусь ли я за реализацию бэклога? Вряд ли в ближайшее время... Потому что учёба продолжается, впереди много новых интересных работ, а за эту я свою десятку получил. 


---
# Условие лабораторных работ, по которым создавался проект
До Квадратного королевства, в котором каждый день была одна и та же погода, добрался ураган. Опасаясь возможной паники среди населения, король издал указ построить метеостанции для измерения погодных условий. В казне хватило денег, чтобы застроить всё королевство метеостанциями с шагом в одну королевскую милю, но часть средств загадочным образом пропала, потому вместо нескольких метеостанций пришлось поставить дешёвые флюгеры. Напишите программу, рассчитывающую погоду в произвольной точке, интерполируя данные с ближайших метеостанций и флюгеров.
1. Флюгер: измерение направления и скорости ветра.
2. Метеостанции: добавляется измерение температуры и давления, хранение данных за некоторый период времени.
3. Метеоцентр (двумерная карта флюгеров и метеостанций): расчёт погодных показателей в произвольной точке королевства по показателям имеющихся средств измерения.


# Решение проблемы со стабильностью **plotly**
**Проблема:** Plotly всё время открывает программу на разных портах, из-за чего она запускалась "через раз".

**Решение:** 
Решилась проблема изменением строки исходника `\plotly\io\_base_renderers.py` c 0 (рандом), например на **8080**:
```python
server = HTTPServer(("127.0.0.1", 8080), OneShotRequestHandler)
    browser.open(
        "http://127.0.0.1:%s" % server.server_port, new=new, autoraise=autoraise
    )
```

- [источник](https://www.cyberforum.ru/python-graphics/thread2504243.html)